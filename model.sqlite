CREATE TABLE IF NOT EXISTS "user"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "oauth" TEXT,
    "name" TEXT
);


CREATE TABLE IF NOT EXISTS "lobby"(
    "id" INTEGER PRIMARY KEY AUTOINCREMENT,
    "name" TEXT,
    "status" TEXT,
    "owner_id" INTEGER,
    "mumble" TEXT,
    "mumble_users" TEXT,
    "draft_url" TEXT,
    "game_status" TEXT,
    "hots_logs_ref" TEXT,
    FOREIGN KEY ("owner_id") REFERENCES "user" ("id")
);


CREATE TABLE IF NOT EXISTS "lobby_players_user" (
    "players_id" INTEGER,
    "user_id" INTEGER,
    FOREIGN KEY ("players_id") REFERENCES "lobby" ("id"),
    FOREIGN KEY ("user_id") REFERENCES "user" ("id")
);

